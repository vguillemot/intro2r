<!DOCTYPE html>
<html>
<head>
  <title>Commandes et objets de base, et importation</title>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="generator" content="pandoc" />




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <base target="_blank">

  <script type="text/javascript">
    var SLIDE_CONFIG = {
      // Slide settings
      settings: {
                title: 'Commandes et objets de base, et importation',
                        useBuilds: true,
        usePrettify: true,
        enableSlideAreas: true,
        enableTouch: true,
                      },

      // Author information
      presenters: [
            {
        name:  'Vincent Guillemot' ,
        company: '',
        gplus: '',
        twitter: '',
        www: '',
        github: ''
      },
            ]
    };
  </script>

  <script src="S03objets_files/header-attrs-2.29/header-attrs.js"></script>
  <link href="S03objets_files/ioslides-13.5.1/fonts/fonts.css" rel="stylesheet" />
  <link href="S03objets_files/ioslides-13.5.1/theme/css/default.css" rel="stylesheet" />
  <link href="S03objets_files/ioslides-13.5.1/theme/css/phone.css" rel="stylesheet" />
  <script src="S03objets_files/ioslides-13.5.1/js/modernizr.custom.45394.js"></script>
  <script src="S03objets_files/ioslides-13.5.1/js/prettify/prettify.js"></script>
  <script src="S03objets_files/ioslides-13.5.1/js/prettify/lang-r.js"></script>
  <script src="S03objets_files/ioslides-13.5.1/js/prettify/lang-yaml.js"></script>
  <script src="S03objets_files/ioslides-13.5.1/js/hammer.js"></script>
  <script src="S03objets_files/ioslides-13.5.1/js/slide-controller.js"></script>
  <script src="S03objets_files/ioslides-13.5.1/js/slide-deck.js"></script>

  <style type="text/css">

    b, strong {
      font-weight: bold;
    }

    em {
      font-style: italic;
    }

    summary {
      display: list-item;
    }

    details > summary > p:only-child {
      display: inline;
    }

    slides > slide {
      -webkit-transition: all 0.4s ease-in-out;
      -moz-transition: all 0.4s ease-in-out;
      -o-transition: all 0.4s ease-in-out;
      transition: all 0.4s ease-in-out;
    }

    .auto-fadein {
      -webkit-transition: opacity 0.6s ease-in;
      -webkit-transition-delay: 0.4s;
      -moz-transition: opacity 0.6s ease-in 0.4s;
      -o-transition: opacity 0.6s ease-in 0.4s;
      transition: opacity 0.6s ease-in 0.4s;
      opacity: 0;
    }
/* https://github.com/ropensci/plotly/pull/524#issuecomment-468142578 */
slide:not(.current) .plotly.html-widget{
  display: block;
}

    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
            html { -webkit-text-size-adjust: 100%; }
            pre > code.sourceCode { white-space: pre; position: relative; }
            pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
            pre > code.sourceCode > span:empty { height: 1.2em; }
            .sourceCode { overflow: visible; }
            code.sourceCode > span { color: inherit; text-decoration: inherit; }
            div.sourceCode { margin: 1em 0; }
            pre.sourceCode { margin: 0; }
            @media screen {
            div.sourceCode { overflow: auto; }
            }
            @media print {
            pre > code.sourceCode { white-space: pre-wrap; }
            pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
            }
            pre.numberSource code
              { counter-reset: source-line 0; }
            pre.numberSource code > span
              { position: relative; left: -4em; counter-increment: source-line; }
            pre.numberSource code > span > a:first-child::before
              { content: counter(source-line);
                position: relative; left: -1em; text-align: right; vertical-align: baseline;
                border: none; display: inline-block;
                -webkit-touch-callout: none; -webkit-user-select: none;
                -khtml-user-select: none; -moz-user-select: none;
                -ms-user-select: none; user-select: none;
                padding: 0 4px; width: 4em;
                color: #aaaaaa;
              }
            pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
            div.sourceCode
              {   }
            @media screen {
            pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
            }
            code span.al { color: #ff0000; font-weight: bold; } /* Alert */
            code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
            code span.at { color: #7d9029; } /* Attribute */
            code span.bn { color: #40a070; } /* BaseN */
            code span.bu { color: #008000; } /* BuiltIn */
            code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
            code span.ch { color: #4070a0; } /* Char */
            code span.cn { color: #880000; } /* Constant */
            code span.co { color: #60a0b0; font-style: italic; } /* Comment */
            code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
            code span.do { color: #ba2121; font-style: italic; } /* Documentation */
            code span.dt { color: #902000; } /* DataType */
            code span.dv { color: #40a070; } /* DecVal */
            code span.er { color: #ff0000; font-weight: bold; } /* Error */
            code span.ex { } /* Extension */
            code span.fl { color: #40a070; } /* Float */
            code span.fu { color: #06287e; } /* Function */
            code span.im { color: #008000; font-weight: bold; } /* Import */
            code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
            code span.kw { color: #007020; font-weight: bold; } /* Keyword */
            code span.op { color: #666666; } /* Operator */
            code span.ot { color: #007020; } /* Other */
            code span.pp { color: #bc7a00; } /* Preprocessor */
            code span.sc { color: #4070a0; } /* SpecialChar */
            code span.ss { color: #bb6688; } /* SpecialString */
            code span.st { color: #4070a0; } /* String */
            code span.va { color: #19177c; } /* Variable */
            code span.vs { color: #4070a0; } /* VerbatimString */
            code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
        
  </style>

  <link rel="stylesheet" href="styles.css" type="text/css" />

</head>

<body style="opacity: 0">

<slides>

  <slide class="title-slide segue nobackground">
        <!-- The content of this hgroup is replaced programmatically through the slide_config.json. -->
    <hgroup class="auto-fadein">
      <h1 data-config-title><!-- populated from slide_config.json --></h1>
      
      <p data-config-presenter><!-- populated from slide_config.json --></p>
            <p style="margin-top: 6px; margin-left: -2px;">Mercredi</p>
          </hgroup>
  </slide>

<style>
.forceBreak { -webkit-column-break-after: always; break-after: column; }
</style>

<slide class=""><hgroup><h2>Bien se préparer à coder</h2></hgroup><article  id="bien-se-préparer-à-coder">

<ul>
<li>Créer un projet dans ce dossier :

<ul>
<li>Bien réfléchir au nom de ce projet</li>
<li>Bien réfléchir à l’endroit où ce projet sera situé</li>
</ul></li>
<li>Créer un script</li>
<li>Savoir où sont les données, et sous quel format</li>
<li>Savoir ce que l’on veut faire !</li>
</ul>

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>C’est parti pour les commandes de base !</h2></hgroup><article  id="cest-parti-pour-les-commandes-de-base">

</article></slide><slide class=""><hgroup><h2>Le(s) prompt(s)</h2></hgroup><article  id="les-prompts">

<ul>
<li><code>&gt;</code> : R attend une commande à exécuter</li>
<li><code>+</code> : la commande qui a été entrée n’est pas complète car

<ul>
<li>il manque une parenthèse fermante</li>
<li>il manque un crochet fermant</li>
<li>il manque une accolade fermante</li>
</ul></li>
<li><code></code> : la commande est en cours de traitement. On peut l’arrêter en cliquant sur le bouton &ldquo;Stop&rdquo;</li>
</ul>

</article></slide><slide class=""><hgroup><h2>Opérations de base</h2></hgroup><article  id="opérations-de-base">

<p>On peut effectuer toutes les opérations de base en R :</p>

<ul>
<li>addition (<code>+</code>), soustraction (<code>-</code>), multiplication (<code>*</code>), division (<code>/</code>), exponentiation (<code>**</code> ou <code>^</code>)…</li>
</ul>

<p>appliquer les fonctions mathématiques de base :</p>

<ul>
<li>logarithme (<code>log</code>, <code>log2</code>, <code>log10</code>), exponentielle (<code>exp</code>) sinus (<code>sin</code>), cosinus (<code>cos</code>), tangente (<code>tan</code>)</li>
</ul>

<p>On peut combiner les opérations et les fonctions, et gérer les priorités avec des parenthèses !</p>

</article></slide><slide class=""><hgroup><h2>Un opérateur bien pratique, le <code>:</code></h2></hgroup><article  id="un-opérateur-bien-pratique-le">

<p>Comment créer une suite d’entier ?</p>

<ul>
<li><code>c(1, 2, 3, 4)</code></li>
<li><code>seq(1, 4, 1)</code></li>
<li><code>1:4</code></li>
</ul>

<p>L’opérateur <code>:</code> est très utilisé en R. Sa syntaxe est la suivante</p>

<ul>
<li>\(i\)<code>:</code>\(j\) va créer une suite d’entiers de \(i\) à \(j\). Les entiers peuvent être négatifs ou positifs, et on peut peut avoir \(i &lt; j\) ou \(i &gt; j\), ou même \(i = j\).</li>
</ul>

<p>Attention à bien mettre des <strong>parenthèses</strong> dans le cas d’entiers négatifs!</p>

</article></slide><slide class=""><hgroup><h2>Exemples</h2></hgroup><article  id="exemples">

<ul>
<li><code>3:7</code> : les entiers de 3 à 7</li>
<li><code>7:3</code> : les entiers de 7 à 3</li>
<li><code>-3:7</code> : les entiers de -3 à 7</li>
<li><code>-3:-7</code> : les entiers de -3 à -7</li>
<li><code>-(3:7)</code> : les entiers de -3 à -7</li>
</ul>

</article></slide><slide class=""><hgroup><h2>Assignation avec <code>&lt;-</code></h2></hgroup><article  id="assignation-avec--">

<p>Comment &ldquo;sauvegarder&rdquo; ces objets ?</p>

<p>En utilisant l’<strong>opérateur d’assignation</strong></p>

<p><img src="S03objets_files/figure-html/assign-1.png" width="288" style="display: block; margin: auto;" /></p>

</article></slide><slide class=""><hgroup><h2>Utilisation de l’opération d’assignation</h2></hgroup><article  id="utilisation-de-lopération-dassignation">

<ul>
<li>A gauche : l’objet que l’on veut créer</li>
<li>A droite : sa définition</li>
<li>Lecture de l’opération : &ldquo;assigner à cet objet (à gauche) le résultat de cette commande (à droite)&rdquo;</li>
<li>Assigner deux fois de suite écrasera la première valeur assignée</li>
<li>Alternative : <code>=</code></li>
<li>Exemples : <code>a &lt;- 1</code>, <code>b &lt;- 1:10</code>, <code>a &lt;- 2</code> etc.</li>
</ul>

</article></slide><slide class=""><hgroup><h2>Les noms d’objets</h2></hgroup><article  id="les-noms-dobjets" class="smaller">

<p>Règles absolues :</p>

<ul>
<li>Commence par une lettre ou un point, si le premier caractère est un point, le deuxième ne peut pas être un chiffre,</li>
<li>Pas d’espace</li>
<li>Pas de caractères correspondant à des opérations (<code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>^</code>, <code>**</code>, etc.)</li>
<li>Les minuscules et les majuscules sont différentes !</li>
<li>Certains &ldquo;mots-clefs&rdquo; sont strictement interdits (<code>NA</code>, <code>TRUE</code>, <code>FALSE</code>, <code>for</code>, <code>if</code>, <code>else</code> etc.)</li>
<li>MAIS on peut utiliser un nom d’objet qui existe déjà !</li>
</ul>

<p>Bonnes pratiques :</p>

<ul>
<li>Utiliser un nom qui a du sens</li>
<li>Ne pas utiliser des noms d’objets qui existent déjà et que l’on ne souhaite pas écraser !</li>
</ul>

</article></slide><slide class=""><hgroup><h2>Opérations</h2></hgroup><article  id="opérations">

<p>On peut appliquer des opérations à ces &ldquo;vecteurs&rdquo; !</p>

<pre class = 'prettyprint lang-r'>a &lt;- 1:5
a + 1
#&gt; [1] 2 3 4 5 6
a * 2
#&gt; [1]  2  4  6  8 10</pre>

<p>Ces &ldquo;vecteurs&rdquo; sont des <strong>objets</strong>.</p>

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>Les Objets</h2></hgroup><article  id="les-objets">

</article></slide><slide class=""><hgroup><h2>Classes d’objets</h2></hgroup><article  id="classes-dobjets">

<table class = 'rmdtable'>
<tr class="header">
<th align="left">Nom</th>
<th align="left">Appelation officielle</th>
<th align="left">Exemple</th>
</tr>
<tr class="odd">
<td align="left">Vecteur</td>
<td align="left"><code>vector</code></td>
<td align="left"><code>1:10</code></td>
</tr>
<tr class="even">
<td align="left">Facteur</td>
<td align="left"><code>factor</code></td>
<td align="left"><code>gl(2, 2)</code></td>
</tr>
<tr class="odd">
<td align="left">Matrice</td>
<td align="left"><code>matrix</code></td>
<td align="left"><code>matrix(1:4, 2, 2)</code></td>
</tr>
<tr class="even">
<td align="left">Tableau</td>
<td align="left"><code>data.frame</code></td>
<td align="left"><code>mtcars</code></td>
</tr>
<tr class="odd">
<td align="left">Liste</td>
<td align="left"><code>list</code></td>
<td align="left"><code>list(a = 1, b = 1:10, c = &quot;Hello!&quot;)</code></td>
</tr>
<tr class="even">
<td align="left">Fonction</td>
<td align="left"><code>function</code></td>
<td align="left"><code>sin</code>, <code>exp</code>, <code>log</code></td>
</tr>
</table>

<p>Pour connaître la classe d’un objet : <code>class(objet)</code>.</p>

</article></slide><slide class=""><hgroup><h2>Types de données</h2></hgroup><article  id="types-de-données">

<table class = 'rmdtable'>
<tr class="header">
<th align="left">Nom</th>
<th align="left">Appellation officielle</th>
<th align="left">Exemple</th>
</tr>
<tr class="odd">
<td align="left">Entier (\(\mathbb Z\))</td>
<td align="left"><code>integer</code></td>
<td align="left"><code>1:10</code>, (ou <code>1L</code>)</td>
</tr>
<tr class="even">
<td align="left">Réel (\(\mathbb R\))</td>
<td align="left"><code>double</code></td>
<td align="left"><code>2.3</code>, <code>1/3</code>, etc…</td>
</tr>
<tr class="odd">
<td align="left">Caractères</td>
<td align="left"><code>character</code></td>
<td align="left"><code>month.name</code>, <code>&quot;Bonjour&quot;</code></td>
</tr>
<tr class="even">
<td align="left">Booléen</td>
<td align="left"><code>logical</code></td>
<td align="left"><code>TRUE</code></td>
</tr>
</table>

</article></slide><slide class=""><hgroup><h2>Bouh les quoi ?</h2></hgroup><article  id="bouh-les-quoi">

<blockquote>
<p>MATH., néol. Qui est relatif aux théories du logicien et mathématicien anglais George Boole.</p>

<p>– <em>Trésor de la Langue Française informatisé</em></p>
</blockquote>

<ul>
<li><code>TRUE</code> (ou bien <code>T</code>) et <code>FALSE</code> (ou bien <code>F</code>)</li>
<li>Résultat d’une comparaison : <code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code></li>
<li>Opérations logiques : <code>!</code>, <code>&amp;</code>, <code>|</code>, <code>xor</code></li>
</ul>

</article></slide><slide class=""><hgroup><h2>Exercice</h2></hgroup><article  id="exercice">

<ol>
<li>Effectuez les opérations suivantes :</li>
</ol>

<ul>
<li><code>1 == 2</code></li>
<li><code>!(5 &gt; -6)</code></li>
<li><code>(1 &lt;= 10) | (1 &gt; 0)</code></li>
</ul>

<ol>
<li>Prédisez le résultat de la commande suivante : <code>log(1) != 0</code></li>
</ol>

</article></slide><slide class=""><hgroup><h2>&ldquo;Classification&rdquo; des objets</h2></hgroup><article  id="classification-des-objets">

<p>Les objets qui ne contiennent qu’un seul type de données : vecteurs et matrices.</p>

<p>Les objets pouvant contenir des données mixtes : tableaux et listes.</p>

<p>La flexibilité a un coût : on ne peut plus faire certaines opérations !</p>

<p>Les objets ayant des &ldquo;dimensions&rdquo; : vecteurs, tableaux et matrices</p>

<p>Les objets pour qui cela ne signifie rien ou presque : listes et fonctions</p>

</article></slide><slide class=""><hgroup><h2>Les tableaux</h2></hgroup><article  id="les-tableaux" class="smaller">

<pre class = 'prettyprint lang-r'>data(&quot;fruveg&quot;, package = &quot;intro2r&quot;)
fruveg
#&gt; # A tibble: 33 × 19
#&gt;    name          group energy water proteins carbohydrates lipids sugar fibers alcohol calcium copper  iron magnesium
#&gt;    &lt;chr&gt;         &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;         &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;
#&gt;  1 Mushroom      raw …   25.8  92.6     2.37          1.88   0.23  1.43   1.72       0    7.78  0.32   0.69      10.9
#&gt;  2 Zucchini      raw …   20.1  94.7     1.23          1.8    0.26  1.79   1.05       0   18.7   0.052  0.36      17.5
#&gt;  3 Leek          raw …   33.4  87.6     1.49          4.9    0.25  3.15   2.27       0   50.7   0.087  1.5       19  
#&gt;  4 Tomato        raw …   21    94.1     0.86          2.49   0.26  2.48   1.2        0    8.14  0.029  0.12      10.1
#&gt;  5 Broccoli      raw …   35.2  88.9     3.95          1.7    0.48  1.7    2.9        0   45.9   0.059  0.76      21.9
#&gt;  6 Green bean    raw …   31.8  90.4     1.85          4.14   0.21  3.26   2.85       0   48.5   0.063  1.02      21  
#&gt;  7 Red beet      raw …   50.9  86.7     1.74          9.1    0.24  6.76   2.55       0   22.1   0.098  0.7       19  
#&gt;  8 White cabbage raw …   35.1  90       1.38          4.63   0.6   4.2    3.5        0   59     0.02   0.3       11  
#&gt;  9 Squash        raw …   17.9  92.3     1.1           1.6    0.17  1.6    1.3        0   28.5   0.061  0.6       16.5
#&gt; 10 Pumpkin       raw …   33.8  91.6     1             6      0.1   2.76   0.5        0   21     0.13   0.8       12  
#&gt; # ℹ 23 more rows
#&gt; # ℹ 5 more variables: manganese &lt;dbl&gt;, phosphorus &lt;dbl&gt;, potassium &lt;dbl&gt;, zinc &lt;dbl&gt;, vitaminC &lt;dbl&gt;</pre>

</article></slide><slide class=""><hgroup><h2>Importer des données en R</h2></hgroup><article  id="importer-des-données-en-r">

<ul>
<li>Des données de <em>packages</em> : <code>data</code></li>
<li>Des données au format R (<code>RData</code>) : <code>load</code></li>
<li>Des données &ldquo;tabulées&rdquo; : <code>read.table</code></li>
<li>Des données Excel : <code>openxlsx::read.xls</code></li>
<li>Des données Stata, SPSS, images etc.</li>
</ul>

</article></slide><slide class=""><hgroup><h2>Les données &ldquo;de R&rdquo;</h2></hgroup><article  id="les-données-de-r">

<ul>
<li>Utiliser la commande <code>data()</code> pour avoir une liste (presque ?) exhaustive.</li>
<li>Bonne pratique : pour charger un jeu de données, utiliser la commande complète <code>data(&quot;nom_des_data&quot;, package = &quot;nom_du_package&quot;)</code></li>
<li>Mais ces alternatives fonctionnent également :

<ul>
<li><code>data(mtcars)</code></li>
<li><code>DNase</code></li>
<li><code>library(ggplot2) ; data(diamonds)</code></li>
</ul></li>
</ul>

</article></slide><slide class=""><hgroup><h2>Utilisation des guillemets</h2></hgroup><article  id="utilisation-des-guillemets">

<ul>
<li>Obligation : quand l’argument doit être une chaîne de caractères</li>
<li>Oubli : <code>library</code>, <code>require</code>, <code>data</code></li>
<li>Guillemets simples : fonctionnent comme les guillemets doubles. Ex.: <code>&quot;bonjour&quot;</code> est équivalent à <code>&#39;bonjour&#39;</code>.</li>
<li>Le &ldquo;backtick&rdquo; ou &ldquo;backquote&rdquo; : &ldquo;`&rdquo;</li>
</ul>

</article></slide><slide class=""><hgroup><h2>Explorer les données <code>fruveg</code></h2></hgroup><article  id="explorer-les-données-fruveg">

<p><img src="S03objets_files/figure-html/brackets-1.png" width="576" style="display: block; margin: auto;" /></p>

</article></slide><slide class=""><hgroup><h2>Sur quels objets les utiliser ?</h2></hgroup><article  id="sur-quels-objets-les-utiliser">

<table class = 'rmdtable'>
<tr class="header">
<th align="left">Opérateur</th>
<th align="center">Vecteurs</th>
<th align="center">Matrices</th>
<th align="center">Tableaux</th>
<th align="center">Listes</th>
</tr>
<tr class="odd">
<td align="left"><code>[ ]</code></td>
<td align="center">x</td>
<td align="center"></td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
<tr class="even">
<td align="left"><code>[ , ]</code></td>
<td align="center"></td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center"></td>
</tr>
<tr class="odd">
<td align="left"><code>[[ ]]</code></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
<tr class="even">
<td align="left"><code>$</code></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">x</td>
<td align="center">x</td>
</tr>
</table>

</article></slide><slide class=""><hgroup><h2>L’opérateur de sélection classique : <code>[ , ]</code></h2></hgroup><article  id="lopérateur-de-sélection-classique">

<ul>
<li>Pour sélectionner la première ligne : <code>fruveg[1, ]</code></li>
<li>Pour sélectionner la deuxième colonne : <code>fruveg[, 2]</code></li>
<li>Pour enlever la troisième ligne : <code>fruveg[-3, ]</code></li>
<li>Pour enlever la quatrième colonne : <code>fruveg[, -4]</code></li>
</ul>

</article></slide><slide class=""><hgroup><h2>Sélectionner plusieurs lignes / colonnes</h2></hgroup><article  id="sélectionner-plusieurs-lignes-colonnes">

<ul>
<li>Pour sélectionner les lignes 1 et 3 : <code>fruveg[c(1, 3), ]</code></li>
<li>Pour sélectionner les colonnes 2 et 4 : <code>fruveg[, c(2, 4)]</code></li>
<li>Pour enlever les lignes 5 et 7 : <code>fruveg[-c(5, 7), ]</code></li>
<li>Pour enlever les colonnes 6 et 8 : <code>fruveg[, -c(6, 8)]</code></li>
</ul>

</article></slide><slide class=""><hgroup><h2>De l’utilité des deux points</h2></hgroup><article  id="de-lutilité-des-deux-points">

<p>Pour sélectionner une plage entière de lignes ou de colonnes adjacentes :</p>

<ul>
<li>Pour sélectionner les lignes 11 à 17 : <code>fruveg[11:17, ]</code></li>
<li>Pour sélectionner les colonnes 3 à 5 : <code>fruveg[, 3:5]</code></li>
<li>Pour enlever les trois premières lignes : <code>fruveg[-(1:3), ]</code></li>
<li>Pour enlever les cinq premières variables : <code>fruveg[, -(1:5)]</code></li>
</ul>

</article></slide><slide class=""><hgroup><h2>Exercice</h2></hgroup><article  id="exercice-1">

<p>Que se passe-t-il quand on oublie les parenthèses dans la commande <code>fruveg[-(1:3), ]</code> ? Commentez !</p>

<p>Faites de même avec le jeu de données <code>mtcars</code>.</p>

</article></slide><slide class=""><hgroup><h2>Pour extraire une seule colonne : le <code>$</code></h2></hgroup><article  id="pour-extraire-une-seule-colonne-le">

<p>La syntaxe <code>donnees$cible</code> permet de sélectionner la colonne <code>cible</code> du tableau <code>donnees</code>.</p>

<ul>
<li>Par exemple : <code>fruveg$water</code></li>
<li>Autre exemple : <code>fruveg$group</code></li>
</ul>

</article></slide><slide class=""><hgroup><h2>Exercice</h2></hgroup><article  id="exercice-2">

<p>Extrayez la colonne de la teneur en sucres de la table des fruits et légumes… de deux façons différentes !</p>

<p>Créez un objet contenant la teneur en sucres : quelle est la classe de cet objet ?</p>

</article></slide><slide class=""><hgroup><h2>Les vecteurs…</h2></hgroup><article  id="les-vecteurs">

<ul>
<li>… sont &ldquo;unidimensionnels&rdquo;</li>
<li>… ont une classe qui est égale au type de données qu’ils contiennent (R !!!)</li>
<li>… sont indexés avec des crochets simples</li>
</ul>

<p>Exemples :</p>

<ul>
<li><code>i &lt;- 1:10</code></li>
<li><code>eau &lt;- fruveg$water</code></li>
<li><code>eau[i]</code></li>
</ul>

</article></slide><slide class=""><hgroup><h2>Exercice</h2></hgroup><article  id="exercice-3">

<p>Créez un vecteur <code>groupe</code> contenant les groupes de fruits et légumes. Donnez deux façons différentes d’extraire les dix premières valeurs de ce vecteur.</p>

</article></slide><slide class=""><hgroup><h2>Extraction avec des Booléens</h2></hgroup><article  id="extraction-avec-des-booléens">

<p>Comment extraire les… * fruits et légumes dont la teneur en eau est supérieure à 90% ? * fruits crus ? * légumes cuits contenant moins de 1g/100g de sucres ?</p>

<p>Réponse : en utilisant des vecteurs booléens</p>

<ol>
<li>Créer le vecteur de booléens <code>fruveg$water &gt;= 90</code></li>
<li>Utiliser le résultat dans les crochets carrés <code>fruveg[fruveg$water &gt;= 90,]</code></li>
</ol>

<p>Ne pas oublier la virgule !</p>

</article></slide><slide class=""><hgroup><h2>Le principe</h2></hgroup><article  id="le-principe">

<p>Pour un vecteur <code>v</code> :</p>

<ul>
<li><code>v[bool]</code> extrait les valeurs de <code>v</code> pour lesquelles <code>bool</code> est vrai (<code>TRUE</code>). Contrainte : <code>v</code> et <code>bool</code> doivent contenir <strong>le même nombre d’éléments</strong>.</li>
</ul>

<p>Pour un tableau <code>tab</code> :</p>

<ul>
<li><code>tab[brow, ]</code> pour extraire les lignes</li>
<li><code>tab[, bcol]</code></li>
<li>Contrainte 1 : <code>brow</code> doit avoir autant d’éléments que <code>tab</code> de lignes</li>
<li>Contrainte 2 : <code>bcol</code> doit avoir autant d’éléments que <code>tab</code> de colonnes</li>
</ul>

</article></slide><slide class=""><hgroup><h2>Attention</h2></hgroup><article  id="attention">

<p>Vous verrez souvent des opérations logiques à l’intérieur des crochets carrés : cela permet d’aller plus vite !</p>

<p>Par exemple, en deux étapes :</p>

<ol>
<li><code>bool &lt;- fruveg$group == &quot;cooked vegetable&quot; &amp; fruveg$sugar &lt;= 1</code></li>
<li><code>fruveg[bool, ]</code></li>
</ol>

<p>Devient, en une étape :</p>

<ul>
<li><code>fruveg[fruveg$group == &quot;cooked vegetable&quot; &amp; fruveg$sugar &lt;= 1, ]</code></li>
</ul>

</article></slide><slide class=""><hgroup><h2>Attention bis</h2></hgroup><article  id="attention-bis">

<p>On peut combiner deux méthodes d’extraction de données pour un tableau : une sur les lignes et une sur les colonnes !</p>

<p>Par exemple : <code>tab[brow, icol]</code>, où <code>brow</code> est un vecteur de booléens et <code>icol</code> un vecteur d’indices.</p>

</article></slide><slide class=""><hgroup><h2>Exercice</h2></hgroup><article  id="exercice-4">

<p>Construisez la sous-table contenant la teneur en protéines, en glucides et en lipides des fruits crus.</p>

</article></slide><slide class=""><hgroup><h2>Les objets nommés</h2></hgroup><article  id="les-objets-nommés">

<p>En R, on peut donner des &ldquo;noms&rdquo;…</p>

<ul>
<li>aux éléments d’un vecteur,</li>
<li>aux lignes d’un tableau ou d’une matrice,</li>
<li>aux colonnes d’un tableau ou d’une matrice,</li>
<li>aux éléments d’une liste</li>
</ul>

<p>Pourquoi ? Pour pouvoir disposer d’une nouvelle méthode d’extraction de données !</p>

</article></slide><slide class=""><hgroup><h2>Pour un tableau</h2></hgroup><article  id="pour-un-tableau">

<p>On utilise :</p>

<ul>
<li><code>rownames(tab)</code> pour connaître le nom des lignes</li>
<li><code>colnames(tab)</code> pour connaître le nom des colonnes</li>
</ul>

<p>Et, en bonus, on peut :</p>

<ul>
<li>changer les noms des lignes <code>rownames(tab) &lt;- new1</code></li>
<li>changer les noms des colonnes <code>colnames(tab) &lt;- new2</code></li>
</ul>

<p>Et, en super bonus, on peut :</p>

<ul>
<li>modifier quelques noms de lignes <code>rownames(tab)[sel1] &lt;- new1</code></li>
<li>modifier quelques noms de colonnes <code>rownames(tab)[sel1] &lt;- new2</code></li>
</ul>

</article></slide><slide class=""><hgroup><h2>Modifier un objet ou son contenu</h2></hgroup><article  id="modifier-un-objet-ou-son-contenu">

<p>La syntaxe <code>obj[i] &lt;- newvalue</code> (et ses variations) peut être utilisée pour tous les types d’objets indiçables. Mais il faut l’utiliser avec prudence !</p>

<p>Exemple : <code>fruveg$energy[1:10] &lt;- 0</code></p>

<p>Que s’est-il passé ? <strong>Au secours !!!!</strong></p>

<p>Pour revenir en arrière : <code>data(&quot;fruveg&quot;, package = &quot;intro2r&quot;)</code></p>

</article></slide><slide class=""><hgroup><h2>Extraction avec des noms</h2></hgroup><article  id="extraction-avec-des-noms">

<p>Exemple :</p>

<ul>
<li>Pour extraire l’énergie : <code>fruveg[, &quot;energy&quot;]</code>,</li>
<li>Pour extraire le groupe : <code>fruveg[, &quot;group&quot;]</code>,</li>
<li>Pour extraire l’énergie et le groupe : <code>fruveg[, c(&quot;energy&quot;, &quot;group&quot;)]</code>,</li>
<li>Pour enlever le groupe : <code>fruveg[, -&quot;group&quot;]</code> ?</li>
</ul>

</article></slide><slide class=""><hgroup><h2>Bilan</h2></hgroup><article  id="bilan">

<table class = 'rmdtable'>
<tr class="header">
<th align="left">Mode d’extraction</th>
<th align="left">Exemples</th>
</tr>
<tr class="odd">
<td align="left">Indices</td>
<td align="left"><code>fruveg[, 2]</code></td>
</tr>
<tr class="even">
<td align="left">Booléens</td>
<td align="left"><code>fruveg[fruveg$name == &quot;Apple&quot;, ]</code></td>
</tr>
<tr class="odd">
<td align="left">Noms</td>
<td align="left"><code>fruveg$name</code> ou <code>fruveg[,&quot;name&quot;]</code></td>
</tr>
</table>

</article></slide><slide class=""><hgroup><h2>Exercice</h2></hgroup><article  id="exercice-5">

<p>Lister le maximum de façons possibles d’extraire du tableau <code>fruveg</code> les fruits crus sucrés riches en Vitamine C !</p>

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>Construire ses propres objets</h2></hgroup><article  id="construire-ses-propres-objets">

</article></slide><slide class=""><hgroup><h2>Vecteurs et facteurs</h2></hgroup><article  id="vecteurs-et-facteurs">

<ul>
<li>La fonction <code>c()</code> permet de combiner des valeurs dans un vecteur. Attention, tout doit être du même &ldquo;type&rdquo; !</li>
<li>La fonction <code>seq</code> permet de créer des suites.</li>
<li>La fonction <code>rep</code> permet de créer des vecteurs en répétant des valeurs. Ex: <code>rep(c(&quot;a&quot;, &quot;b&quot;), c(3, 4))</code></li>
</ul>

<p>Les facteurs sont une particularité de R !</p>

<ul>
<li>On les crée avec la fonction <code>factor</code> ou <code>as.factor</code></li>
<li>Par exemple : <code>factor(fruveg$group)</code></li>
</ul>

</article></slide><slide class=""><hgroup><h2>Matrices et tableaux</h2></hgroup><article  id="matrices-et-tableaux">

<ul>
<li>Les fonctions <code>matrix</code>, <code>rbind</code> et <code>cbind</code> pour créer des matrices. Attention, tout doit être du même &ldquo;type&rdquo; !</li>
<li>Les fonctions <code>data.frame</code> ou <code>as.data.frame</code> pour créer des</li>
</ul>

</article></slide><slide class=""><hgroup><h2>Ajouter des noms</h2></hgroup><article  id="ajouter-des-noms">

<p>Directement à la création de l’objet. Ex: <code>x &lt;- c(a = 1, b = 2)</code>, <code>d &lt;- data.frame(a = 1:26, b = letters)</code></p>

<p>Ou bien après la création de l’objet :</p>

<ul>
<li><code>names(obj) &lt;- lesNoms</code> pour un vecteur</li>
<li><code>rownames(obj) &lt;- lesLignes</code> pour les lignes d’un tableau ou d’une matrice,</li>
<li><code>colnames(obj) &lt;- lesColonnes</code> pour les colonnes d’un tableau ou d’une matrice.</li>
</ul>

</article></slide><slide class=""><hgroup><h2>Exercice</h2></hgroup><article  id="exercice-6">

<p>Créez un facteur à partir des groupes de fruits et légumes, puis testez la commande suivante :</p>

<pre >factor(
  fruveg$group,
  levels = c(
    &quot;raw vegetable&quot;, 
    &quot;cooked vegetable&quot;,
    &quot;raw fruit&quot;))</pre>

<p>Que se passe-t-il ? Sauvez le résultat dans un objet et faites un diagramme en bâton avec ! Commentez !</p>

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>Estimation ponctuelle</h2></hgroup><article  id="estimation-ponctuelle">

</article></slide><slide class=""><hgroup><h2>Définition</h2></hgroup><article  id="définition" class="smaller">

<p>Il s’agit d’estimer un caractéristique statistique d’un ensemble de données avec une seule valeur.</p>

<table class = 'rmdtable'>
<tr class="header">
<th align="left">Paramètre</th>
<th align="left">Grandeur statistique</th>
<th align="left">Commande</th>
</tr>
<tr class="odd">
<td align="left">Position</td>
<td align="left">Moyenne</td>
<td align="left"><code>mean</code></td>
</tr>
<tr class="even">
<td align="left">Position</td>
<td align="left">Médiane</td>
<td align="left"><code>median</code></td>
</tr>
<tr class="odd">
<td align="left">Position</td>
<td align="left">Minimum</td>
<td align="left"><code>min</code></td>
</tr>
<tr class="even">
<td align="left">Position</td>
<td align="left">Maximum</td>
<td align="left"><code>max</code></td>
</tr>
<tr class="odd">
<td align="left">Dispersion</td>
<td align="left">Variance</td>
<td align="left"><code>var</code></td>
</tr>
<tr class="even">
<td align="left">Dispersion</td>
<td align="left">Ecart-type</td>
<td align="left"><code>sd</code></td>
</tr>
<tr class="odd">
<td align="left">Dispersion</td>
<td align="left">Intervalle inter-quartiles</td>
<td align="left"><code>IQR</code></td>
</tr>
<tr class="even">
<td align="left">Lien</td>
<td align="left">Covariance</td>
<td align="left"><code>cov</code></td>
</tr>
<tr class="odd">
<td align="left">Lien</td>
<td align="left">Corrélation</td>
<td align="left"><code>cor</code></td>
</tr>
</table>

</article></slide><slide class=""><hgroup><h2>Rappel : la covariance</h2></hgroup><article  id="rappel-la-covariance">

<p>Permet de mesurer le degré de co-variation de deux variables :</p>

<p>\[
  \operatorname{cov}(x, y)=\frac{1}{n-1} \sum_{i=1}^{n}\left(x_{i}-m_{x}\right)\left(y_{i}-m_{y}\right)
\]</p>

</article></slide><slide class=""><hgroup><h2>Rappel : corrélation de Pearson</h2></hgroup><article  id="rappel-corrélation-de-pearson">

<p>C’est une covariance normalisée entre -1 et 1 !</p>

<p>\[
  \operatorname{cor}(x, y)=\frac{\operatorname{cov}(x, y)}{\sqrt{\operatorname{var}(x)} \sqrt{\operatorname{var}(y)}}
\]</p>

</article></slide><slide class=""><hgroup><h2>Rappel : corrélation de Spearman</h2></hgroup><article  id="rappel-corrélation-de-spearman">

<p>C’est la corrélation (de Pearson) calculée sur les rangs !</p>

<p>\[
  \rho = \operatorname{cor}(r_x, r_y),
\] avec \(r_x\) le vecteur des rangs de \(x\) (<code>rank(x)</code>), et \(r_y\) le vecteur des rangs de \(y\) (<code>rank(y)</code>).</p>

</article></slide><slide class=""><hgroup><h2>Rappel (?) : corrélation de Kendall</h2></hgroup><article  id="rappel-corrélation-de-kendall">

<ul>
<li>Paire concordante : \(\left(x_{i}&lt;x_{j} \text { et } y_{i}&lt;y_{j}\right)\) OU \(\left(x_{i}&gt;x_{j} \text { et } y_{i}&gt;y_{j}\right)\)</li>
<li>Paire discordante : \(\left(x_{i}&lt;x_{j} \text { et } y_{i}&gt;y_{j}\right)\) OU \(\left(x_{i}&gt;x_{j} \text { et } y_{i}&lt;y_{j}\right)\)</li>
</ul>

<p>\[
  \tau = \displaystyle \frac{n_C - n_D}{n_0},
\] avec \(n_C\) le nombre de paires concordantes, \(n_D\) le nombre de paires discordantes et \(n_0\) le nombre total de paires de points.</p>

</article></slide><slide class=""><hgroup><h2>Exercice</h2></hgroup><article  id="exercice-7">

<p>Calculez</p>

<ul>
<li>la médiane de la teneur en sucres</li>
<li>la moyenne de la teneur en eau</li>
<li>l’écart-type de la teneur en eau</li>
</ul>

<p>Appliquez la fonction <code>summary</code> aux données <code>fruveg</code>.</p>

<ul>
<li>Calculez la corrélation de Pearson entre la teneur en eau et la teneur en sucres,</li>
<li>Calculez la corrélation de Spearman</li>
</ul>

</article></slide><slide class=""><hgroup><h2>Les fonctions astucieuses</h2></hgroup><article  id="les-fonctions-astucieuses">

<ul>
<li><code>summary</code> pour obtenir des statistiques</li>
<li><code>str</code> pour la structure des données</li>
<li><code>table</code> pour faire des tables de comptage</li>
<li><code>seq_along</code> pour créer un vecteur d’indices de même longueur qu’un vecteur donné</li>
</ul>

</article></slide><slide class=""><hgroup><h2>D’autres fonctions très utilies</h2></hgroup><article  id="dautres-fonctions-très-utilies">

<ul>
<li><code>sum</code> pour calculer la somme de nombres</li>
<li><code>sort</code>, <code>order</code> et <code>rank</code> pour ordonner, et calculer les rangs</li>
<li><code>rowSums</code> et <code>colSums</code> pour calculer les sommes des lignes et colonnes d’une table,</li>
<li><code>rowMeans</code> et <code>colMeans</code> pour calculer les moyennes des lignes et colonnes d’une table,</li>
</ul>

</article></slide><slide class=""><hgroup><h2>Les graphes de base</h2></hgroup><article  id="les-graphes-de-base">

<ul>
<li><code>barplot</code> : diagrammes en bâtons</li>
<li><code>hist</code> : histogrammes</li>
<li><code>plot</code> : nuages de points</li>
</ul>

</article></slide><slide class=""><hgroup><h2>La fonction <code>barplot</code></h2></hgroup><article  id="la-fonction-barplot">

<p>Permet de réaliser des diagrammes en bâtons :</p>

<pre class = 'prettyprint lang-r'>barplot(table(fruveg$group))</pre>

<p><img src="S03objets_files/figure-html/barplot-1.png" width="720" /></p>

</article></slide><slide class=""><hgroup><h2>La fonction <code>hist</code></h2></hgroup><article  id="la-fonction-hist">

<p>Permet de réaliser des histogrammes :</p>

<pre class = 'prettyprint lang-r'>hist(fruveg$water)</pre>

<p><img src="S03objets_files/figure-html/hist-1.png" width="720" /></p>

</article></slide><slide class=""><hgroup><h2>La fonction <code>plot</code></h2></hgroup><article  id="la-fonction-plot">

<p>Permet de tracer des nuages de points :</p>

<pre class = 'prettyprint lang-r'>plot(fruveg$water, fruveg$sugar)</pre>

<p><img src="S03objets_files/figure-html/plot-1.png" width="720" /></p>

</article></slide><slide class=""><hgroup><h2>Exercice</h2></hgroup><article  id="exercice-8">

<p>Faire un histogramme de la teneur en Vitamine C des fruits crus.</p>

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>Import de données</h2></hgroup><article  id="import-de-données">

</article></slide><slide class=""><hgroup><h2>Rappels sur les fonctions</h2></hgroup><article  id="rappels-sur-les-fonctions">

<p>Lire des fichiers tabulés : <code>read.table</code>, <code>read.csv</code>, <code>read.csv2</code>, <code>read.delim</code>, <code>read.delim2</code>.</p>

<p>Lire des fichiers Excel : <code>openxlsx::read.xlsx</code>(, <code>readxl::read_excel</code>)</p>

<p>Mais on peut utiliser aussi le menu &ldquo;Import Dataset&rdquo; de Rstudio !</p>

</article></slide><slide class=""><hgroup><h2>Exercice</h2></hgroup><article  id="exercice-9">

<ol>
<li>Téléchargez les données Nutriwi (<a href='https://vguillemot.github.io/intro2r/inst/extdata/nutrimenu.csv' title=''>https://vguillemot.github.io/intro2r/inst/extdata/nutrimenu.csv</a>).</li>
<li>Placez ces données dans votre <strong>dossier de travail</strong></li>
<li>Importez ces données dans votre <strong>environnement</strong></li>
<li>Explorez rapidement les données Nutriwi avec les fonctions <code>class</code>, <code>dim</code>, <code>summary</code> etc.</li>
</ol></article></slide>


  <slide class="backdrop"></slide>

</slides>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!-- map slide visiblity events into shiny -->
<script>
  (function() {
    if (window.jQuery) {
       window.jQuery(document).on('slideleave', function(e) {
         window.jQuery(e.target).trigger('hidden');
      });
       window.jQuery(document).on('slideenter', function(e) {
         window.jQuery(e.target).trigger('shown');
      });
    }
    if (window.Shiny) {
      // Initialize slides when this script appears on the page, since it
      // indicates that the <slides> markup has been fully loaded.
      window.loadDeck();
    }
  })();
</script>

</body>
</html>
